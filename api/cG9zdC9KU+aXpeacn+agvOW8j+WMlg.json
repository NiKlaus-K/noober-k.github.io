{"title":"JS日期格式化","date":"2019-08-29T04:33:45.136Z","link":"post/JS日期格式化","comments":true,"tags":["JavaScript","前端"],"categories":["前端"],"updated":"2019-08-29T04:35:22.091Z","content":"<h2 id=\"前言\">前言<a href=\"post/JS日期格式化#前言\"></a></h2><p>+在通过JavaScript中<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">new Date()</span>方法获取当前日期时，获取数据为<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">Thu Aug 29 2019 10:51:06 GMT+0800 (中国标准时间）</span> 。</p>\n<ul>\n<li><p>为实现不同的日期格式，需要将获取的date数据格式化，比如<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">2019-08-29 10:51:06 </span></p>\n</li>\n<li><p>在实现过程中会用到<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">getFullYear()<br></span>、<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">d.getMonth()<br></span>等日期处理方法</p>\n</li>\n<li><p>同时发现如果月份、小时、分钟等为一位数的时候，只会显示为<span style=\"color:#f59141;background-color:#f8f8f8;padding:3px 6px;\">2019-8-29 10:8:6<br></span>，为实现完整两位数显示此处可用slice方法解决</p>\n</li>\n<li><p>关键字：<span style=\"background-color:#5bc0de;color:#fff;padding:3px 6px;border-radius:6px;\">日期格式化</span>、<span style=\"background-color:#5bc0de;color:#fff;padding:3px 6px;border-radius:6px;\">slice()</span>、<span style=\"background-color:#5bc0de;color:#fff;padding:3px 6px;border-radius:6px;\">join()</span></p>\n</li>\n</ul>\n<h2 id=\"方法\">方法<a href=\"post/JS日期格式化#方法\"></a></h2><ul>\n<li><p><code>date.getFullYear()</code>   获取年</p>\n</li>\n<li><p><code>date.getMonth()</code>         获取月，为基于0的值（0表示一年中的第一月）</p>\n</li>\n<li><p><code>date.getDate()</code>         获取日，一个月中的哪一日（从1–31）</p>\n</li>\n<li><p><code>date.getHours()</code>         获取小时数</p>\n</li>\n<li><p><code>date.getMinutes()</code>     获取分钟数</p>\n</li>\n<li><p><code>date.getSeconds()</code>     获取秒数</p>\n</li>\n<li><p><code>array.slice(begin,end)</code>   可提取字符串的某个部分，并以新的字符串返回被提取的部分</p>\n</li>\n<li><ul>\n<li><code>begin</code>表示提取起始处的索引，如果参数为负数，表示从倒数第几个开始提取</li>\n</ul>\n</li>\n<li><ul>\n<li><p><code>slice(-2)</code>表示提取倒数第二个元素到最后一个元素</p>\n</li>\n<li><p><code>end</code>表示提取终止处的索引，<code>slice</code>会提取原数组中索引从<code>begin</code> 到<code>end</code>的所有元素（包含<code>begin</code>，但不包含<code>end</code>）</p>\n</li>\n<li><p><code>slice(1,4)</code> 会提取原数组中从第二个元素开始一直到第四个元素的所有元素 （索引为 1, 2, 3的元素）。</p>\n</li>\n<li><p>其中<code>begin</code>和<code>end</code>皆默认为0</p>\n</li>\n</ul>\n</li>\n<li><p><code>join(separator)</code> 把数组中的所有元素转换为一个字符串</p>\n</li>\n<li><ul>\n<li><code>separator</code> 可选，表示元素连接时添加的分隔符</li>\n<li>比如 <code>[2019,08,29].join(&quot;-&quot;)</code>，返回为”2019-08-29”；<code>[2019,08,29].join(&quot;&quot;)</code>，返回为”20190829”</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"源码\">源码<a href=\"post/JS日期格式化#源码\"></a></h2><h3 id=\"时间格式化函数\">时间格式化函数<a href=\"post/JS日期格式化#时间格式化函数\"></a></h3><figure class=\"highlight js\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">format</span>(<span class=\"params\">d</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//参数d必须为Date对象，否则会提示getFullYear()等方法not a function</span></span><br><span class=\"line\">    <span class=\"comment\">//可通过new Date(\"2018-8-8\")的方式将日期字符串转化为日期对象</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [d.getFullYear(), d.getMonth() + <span class=\"number\">1</span>, d.getDate()].join(<span class=\"string\">'-'</span>)</span><br><span class=\"line\">        \t+ <span class=\"string\">' '</span></span><br><span class=\"line\">        \t+ [(<span class=\"string\">'0'</span> + d.getHours()).slice(<span class=\"number\">-2</span>), </span><br><span class=\"line\">           \t(<span class=\"string\">'0'</span> + d.getMinutes()).slice(<span class=\"number\">-2</span>), </span><br><span class=\"line\">           \t(<span class=\"string\">'0'</span> + d.getSeconds()).slice(<span class=\"number\">-2</span>)].join(<span class=\"string\">':'</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<h3 id=\"赋值\">赋值<a href=\"post/JS日期格式化#赋值\"></a></h3><figure class=\"highlight js\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> date = format(<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>());    <span class=\"comment\">//格式化当前时间</span></span><br><span class=\"line\"><span class=\"comment\">//输出：\"2019-8-29 12:27:39\"</span></span><br></pre></td></tr></table></div></figure>\n\n<p>或者</p>\n<figure class=\"highlight js\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> d = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">\"2018-08-08\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">let</span> date =  format(d);</span><br><span class=\"line\"><span class=\"comment\">//输出：\"2018-8-8 08:00:00\"</span></span><br></pre></td></tr></table></div></figure>\n\n","next":{"title":"文本溢出自动隐藏并显示省略号","link":"post/文本超出自动隐藏并显示省略号"},"plink":"http://noober-k.github.io/post/JS日期格式化/","toc":[{"title":"前言","id":"前言","index":"1"},{"title":"方法","id":"方法","index":"2"},{"title":"源码","id":"源码","index":"3","children":[{"title":"时间格式化函数","id":"时间格式化函数","index":"3.1"},{"title":"赋值","id":"赋值","index":"3.2"}]}]}